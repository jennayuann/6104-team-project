---
timestamp: 'Sat Nov 22 2025 13:22:30 GMT-0500 (Eastern Standard Time)'
parent: '[[../20251122_132230.04adc768.md]]'
content_id: d833228f09145de7fbe2eebb74431d3cb3694982b3d26458418b68c95f159153
---

# Commenting

Every action should have a comment including its signature, its requirements, and effects:

```typescript
  /**
   * createLabel (name: String): (label: Label)
   *
   * **requires** no Label with the given `name` already exists
   *
   * **effects** creates a new Label `l`; sets the name of `l` to `name`; returns `l` as `label`
   */
```

* **concept**: MultiSourceNetwork \[Owner, Node, Source]

* **purpose**:
  Allow an owner to maintain and explore a single unified network of nodes and connections that may originate from multiple independent sources.

* **principle**:
  When an owner accumulates nodes and edges from different sources into their network, they can explore them as one combined graph. If any contributing source removes its nodes or edges, the owner’s unified network reflects these changes automatically.

* **state**:
  * a set of `Networks` with
    * `owner` Owner
    * `root` Node?
  * a set of `Memberships` with
    * `owner` Owner
    * `node` Node
    * `sources` JSON
  * a set of `Edges` with
    * `owner` Owner
    * `from` Node
    * `to` Node
    * `source` Source
    * `weight` Number?

* **actions**:

  * `createNetwork (owner: Owner, root: Node?): Empty`
    * **requires**:
      * No `Networks` entry exists for `owner`.
    * **effects**:
      * Creates a new `Networks` entry for the owner with optional `root`.

  * `setRootNode (owner: Owner, root: Node): Empty`
    * **requires**:
      * A `Networks` entry exists for `owner`.
      * A `Memberships` entry exists for `(owner, root)`.
    * **effects**:
      * Sets the `root` field for the owner’s network.

  * `addNodeToNetwork (owner: Owner, node: Node, source: Source): Empty`
    * **requires**: none.
    * **effects**:
      * Creates or updates a `Memberships` entry by adding `source` to the node’s source set.

  * `removeNodeFromNetwork (owner: Owner, node: Node, source: Source?): Empty`
    * **requires**:
      * A `Memberships` entry exists for `(owner, node)`.
    * **effects**:
      * If `source` is provided: remove it from the node’s `sources` set.
      * If `sources` becomes empty: delete the `Memberships` entry and all corresponding `Edges` for the owner.

  * `addEdge (owner: Owner, from: Node, to: Node, source: Source, weight: Number?): Empty`
    * **requires**:
      * `from != to`.
    * **effects**:
      * Creates or updates an `Edges` entry for `(owner, from, to, source)` with optional `weight`.

  * `removeEdge (owner: Owner, from: Node, to: Node, source: Source): Empty`
    * **requires**:
      * An `Edges` entry exists for `(owner, from, to, source)`.
    * **effects**:
      * Removes the specified edge.
